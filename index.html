<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>DRONES Xag - Concession√°ria de Drones</title>
  <meta name="description"
    content="DRONES Xag - A mais avan√ßada concession√°ria de drones com tecnologia cyberpunk e designs futuristas" />
  <meta name="author" content="DRONES Xag" />

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Exo+2:wght@300;400;600;800&display=swap"
    rel="stylesheet">
  <link rel="shortcut icon" href="public/favicon.ico" type="image/x-icon">
</head>

<body>
  <div id="root"></div>
  <script type="module" src="/src/main.tsx"></script>

  <!-- Chatbot TemplyIA Personalizado -->
  <style data-filename="pages/EmbeddableChatbot" data-linenumber="96"
    data-visual-selector-id="pages/EmbeddableChatbot96">
    /* Container do Chatbot */
    #temply-chatbot {
      position: fixed;
      bottom: 80px;
      right: 20px;
      width: 550px;
      height: 90vh;
      border: none;
      border-radius: 12px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      z-index: 9999;
      transition: all 0.3s ease-in-out;
      display: none;
      font-family: Inter, sans-serif;
      font-size: 14px;
      background-color: #f8fafc;
      overflow: hidden;
    }

    /* Responsividade */
    @media (max-width: 768px) {
      #temply-chatbot {
        width: 90%;
        height: 80vh;
        bottom: 70px;
        right: 5%;
        left: 5%;
      }
    }

    /* Bot√£o principal do chatbot */
    #chatbot-toggle {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background-color: #00fe91;
      color: #fff;
      border: none;
      border-radius: 50%;
      width: 70px;
      height: 70px;
      font-size: 32px;
      cursor: pointer;
      z-index: 10000;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 6px 15px rgba(0, 0, 0, 0.3);
      transition: transform 0.2s;
    }

    #chatbot-toggle:hover {
      transform: scale(1.1);
    }

    /* Bot√£o de minimizar */
    #chatbot-minimize {
      position: fixed;
      bottom: calc(90vh + 90px);
      /* Ajustado para estar acima do iframe */
      right: 25px;
      background: #FF4B4B;
      color: #fff;
      border: none;
      border-radius: 50%;
      width: 35px;
      height: 35px;
      font-size: 20px;
      cursor: pointer;
      z-index: 10001;
      display: none;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    }

    @media (max-width: 768px) {
      #chatbot-minimize {
        bottom: calc(80vh + 80px);
        /* Ajustado para mobile */
        right: 8%;
      }
    }
  </style>

  <!-- Bot√£o principal do chat -->
  <button data-filename="pages/EmbeddableChatbot" data-linenumber="179"
    data-visual-selector-id="pages/EmbeddableChatbot179" id="chatbot-toggle"
    title="Abrir Chat de Atendimento">üëã</button>

  <!-- Iframe do Chatbot com Par√¢metros de Estilo -->
  <iframe data-filename="pages/EmbeddableChatbot" data-linenumber="182"
    data-visual-selector-id="pages/EmbeddableChatbot182" id="temply-chatbot"
    src="https://preview--temply-5680f369.base44.app/PublicChat?businessId=68acdabb84fdb66d960e2097&style=custom&primaryColor=%2300fe91&bgColor=%23f8fafc&userMsgColor=%233b82f6&botMsgColor=%23f1f5f9&inputBgColor=%23ffffff&inputBorderColor=%23e2e8f0&sendBtnColor=%2310b981&borderRadius=12px&fontFamily=Inter%2C%20sans-serif&fontSize=14px&userTextColor=%23ffffff&botTextColor=%23334155&headerTextColor=%23ffffff"
    title="Chat TemplyIA - CyberSfaecorp" allow="microphone; camera; geolocation"></iframe>

  <!-- Bot√£o de minimizar -->
  <button data-filename="pages/EmbeddableChatbot" data-linenumber="189"
    data-visual-selector-id="pages/EmbeddableChatbot189" id="chatbot-minimize" title="Minimizar Chat">‚úñ</button>

  <script data-filename="pages/EmbeddableChatbot" data-linenumber="191"
    data-visual-selector-id="pages/EmbeddableChatbot191">
      (function () {
        const chatbot = document.getElementById('temply-chatbot');
        const toggleBtn = document.getElementById('chatbot-toggle');
        const minimizeBtn = document.getElementById('chatbot-minimize');

        // Verificar se os elementos existem
        if (!chatbot || !toggleBtn || !minimizeBtn) {
          console.error('TemplyIA: Elementos do chatbot n√£o encontrados');
          return;
        }

        // Abrir chatbot
        toggleBtn.addEventListener('click', () => {
          chatbot.style.display = "block";
          minimizeBtn.style.display = "block";
          toggleBtn.style.display = "none";

          // Enviar evento para analytics (opcional)
          if (typeof gtag !== 'undefined') {
            gtag('event', 'chat_opened', {
              event_category: 'engagement',
              event_label: 'temply_chatbot'
            });
          }
        });

        // Minimizar chatbot
        minimizeBtn.addEventListener('click', () => {
          chatbot.style.display = "none";
          minimizeBtn.style.display = "none";
          toggleBtn.style.display = "flex";

          // Enviar evento para analytics (opcional)
          if (typeof gtag !== 'undefined') {
            gtag('event', 'chat_minimized', {
              event_category: 'engagement',
              event_label: 'temply_chatbot'
            });
          }
        });

        // **CORRE√á√ÉO: Escutar mensagem para fechar o chat a partir do iframe**
        window.addEventListener('message', function (event) {
          if (event.data === 'close_chat') {
            chatbot.style.display = 'none';
            minimizeBtn.style.display = 'none';
            toggleBtn.style.display = 'flex';
          } else if (event.data && event.data.type === 'temply-notification') {
            // Voc√™ pode implementar notifica√ß√µes visuais aqui
            console.log('Nova mensagem do TemplyIA:', event.data.message);
          }
        });
      })();
    </script>

  <!-- Fim do C√≥digo do Chatbot TemplyIA -->
</body>

</html>